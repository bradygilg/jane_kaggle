schema: '2.0'
stages:
  kaggle_download:
    cmd: kaggle competitions download -c jane-street-real-time-market-data-forecasting
      -p ../Data/Raw && unzip ../Data/Raw/jane-street-real-time-market-data-forecasting.zip
      -d ../Data/Raw && rm ../Data/Raw/jane-street-real-time-market-data-forecasting.zip
    outs:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
  preprocess_dataframe@Regressionalize:
    cmd: python ../Scripts/Processors/Regressionalize.py --input ../Data/Raw/ --output
      ../Data/Processed/./Regressionalize.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Regressionalize.py
      hash: md5
      md5: 7816ab821f97689b2124fb6c0a46c17d
      size: 2406
    params:
      params.yaml:
        parameters.processors.Regressionalize: {}
        parameters.processors.global:
          fold_column: date_id
          num_folds: 5
          partition_ids:
          - 0
          label_column: responder_6
    outs:
    - path: ../Data/Processed/./Regressionalize.parquet
      hash: md5
      md5: 7ac4c3ed612d1bd4abbb46991b815860
      size: 598771655
  train@Regressionalize-LinearRegressor:
    cmd: python ../Scripts/Model_Train/LinearRegressor.py --input ../Data/Processed/./Regressionalize_train.parquet
      --output ../Models/./Regressionalize/LinearRegressor
    deps:
    - path: ../Data/Processed/./Regressionalize_train.parquet
      hash: md5
      md5: 8cc1c4f39083d00a9802d71b171cf9cc
      size: 1330376725
    - path: ../Scripts/Model_Train/LinearRegressor.py
      hash: md5
      md5: ed0cefc0da1f1ceb0defe9191a1830cb
      size: 1008
    params:
      params.yaml:
        parameters.models.LinearRegressor: {}
    outs:
    - path: ../Models/./Regressionalize/LinearRegressor
      hash: md5
      md5: 1f9671e59f367c8dab9a84573a2de2ef.dir
      size: 20086884
      nfiles: 3
  test@Regressionalize-LinearRegressor:
    cmd: python ../Scripts/Model_Test/LinearRegressor.py --model ../Models/./Regressionalize/LinearRegressor
      --input ../Data/Processed/./Regressionalize_test.parquet --output ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
    deps:
    - path: ../Data/Processed/./Regressionalize_test.parquet
      hash: md5
      md5: c9061f870c9feff1dacb37194225971e
      size: 2035895356
    - path: ../Models/./Regressionalize/LinearRegressor
      hash: md5
      md5: 1f9671e59f367c8dab9a84573a2de2ef.dir
      size: 20086884
      nfiles: 3
    - path: ../Scripts/Model_Test/LinearRegressor.py
      hash: md5
      md5: 2d8403ea55cac82a08ad82c1a2ce720c
      size: 1179
    outs:
    - path: ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
      hash: md5
      md5: b533594ab0e08ddaeeb4dd60bddad915
      size: 283682837
  metrics@Regressionalize-LinearRegressor-Scatter:
    cmd: python ../Scripts/Metrics/Scatter.py --input ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
      --output ../Figures/./Regressionalize/LinearRegressor/Scatter
    deps:
    - path: ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
      hash: md5
      md5: b533594ab0e08ddaeeb4dd60bddad915
      size: 283682837
    - path: ../Scripts/Metrics/Scatter.py
      hash: md5
      md5: e5a619dddfe635e37853649dfdc04de3
      size: 1794
    params:
      params.yaml:
        parameters.metrics.Scatter:
          figsize: 8
          alpha: 0.1
          point_size: 5
    outs:
    - path: ../Figures/./Regressionalize/LinearRegressor/Scatter
      hash: md5
      md5: 213a6ffc1cf24b7506f2217276982c6c.dir
      size: 112404
      nfiles: 1
  train@Regressionalize-PytorchNeuralNetworkRegressor:
    cmd: python ../Scripts/Model_Train/PytorchNeuralNetworkRegressor.py --input ../Data/Processed/./Regressionalize_train.parquet
      --output ../Models/./Regressionalize/PytorchNeuralNetworkRegressor
    deps:
    - path: ../Data/Processed/./Regressionalize_train.parquet
      hash: md5
      md5: 8cc1c4f39083d00a9802d71b171cf9cc
      size: 1330376725
    - path: ../Scripts/Model_Train/PytorchNeuralNetworkRegressor.py
      hash: md5
      md5: c35a59bbd7a41007c2b44e76257cf194
      size: 1842
    params:
      params.yaml:
        parameters.models.PytorchNeuralNetworkRegressor:
          dimension: 16
          learning_rate: 0.03
          dropout_rate: 0.1
          loss_function_name: MSELoss
          optimizer_name: SGD
          max_epochs: 500
          seed: 363
          callback_period: 5
    outs:
    - path: ../Models/./Regressionalize/PytorchNeuralNetworkRegressor
      hash: md5
      md5: 3c11a322181dbaefa7d8d73f4e1bbdd2.dir
      size: 20096423
      nfiles: 4
  test@Regressionalize-PytorchNeuralNetworkRegressor:
    cmd: python ../Scripts/Model_Test/PytorchNeuralNetworkRegressor.py --model ../Models/./Regressionalize/PytorchNeuralNetworkRegressor
      --input ../Data/Processed/./Regressionalize_test.parquet --output 
      ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
    deps:
    - path: ../Data/Processed/./Regressionalize_test.parquet
      hash: md5
      md5: c9061f870c9feff1dacb37194225971e
      size: 2035895356
    - path: ../Models/./Regressionalize/PytorchNeuralNetworkRegressor
      hash: md5
      md5: 3c11a322181dbaefa7d8d73f4e1bbdd2.dir
      size: 20096423
      nfiles: 4
    - path: ../Scripts/Model_Test/PytorchNeuralNetworkRegressor.py
      hash: md5
      md5: 6b45f5f45bdd987fb912255bf4ef9745
      size: 1221
    outs:
    - path: 
        ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: c782ec420088bbeed5389f5a80b84da8
      size: 283678455
  metrics@Regressionalize-PytorchNeuralNetworkRegressor-Scatter:
    cmd: python ../Scripts/Metrics/Scatter.py --input 
      ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
      --output ../Figures/./Regressionalize/PytorchNeuralNetworkRegressor/Scatter
    deps:
    - path: 
        ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: c782ec420088bbeed5389f5a80b84da8
      size: 283678455
    - path: ../Scripts/Metrics/Scatter.py
      hash: md5
      md5: e5a619dddfe635e37853649dfdc04de3
      size: 1794
    params:
      params.yaml:
        parameters.metrics.Scatter:
          figsize: 8
          alpha: 0.1
          point_size: 5
    outs:
    - path: ../Figures/./Regressionalize/PytorchNeuralNetworkRegressor/Scatter
      hash: md5
      md5: 25376afafb1ac69d9e3d261a972a98a0.dir
      size: 141780
      nfiles: 1
  preprocess_dataframe@Lag:
    cmd: python ../Scripts/Processors/Lag.py --input ../Data/Raw/ --output ../Data/Processed/./Lag.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Lag.py
      hash: md5
      md5: 3f713b2c03dbde2bab4b07c0e818a7d6
      size: 2937
    params:
      params.yaml:
        parameters.processors.Lag: {}
        parameters.processors.global:
          fold_column: date_id
          num_folds: 5
          partition_ids:
          - 0
          label_column: responder_6
    outs:
    - path: ../Data/Processed/./Lag.parquet
      hash: md5
      md5: 639735f6325c8b65b34afdcafab46302
      size: 725169060
  train@Lag-LinearRegressor:
    cmd: python ../Scripts/Model_Train/LinearRegressor.py --input ../Data/Processed/./Lag_train.parquet
      --output ../Models/./Lag/LinearRegressor
    deps:
    - path: ../Data/Processed/./Lag_train.parquet
      hash: md5
      md5: da5b7a475590ee39252f8656bbe9656c
      size: 785560398
    - path: ../Scripts/Model_Train/LinearRegressor.py
      hash: md5
      md5: ed0cefc0da1f1ceb0defe9191a1830cb
      size: 1008
    params:
      params.yaml:
        parameters.models.LinearRegressor: {}
    outs:
    - path: ../Models/./Lag/LinearRegressor
      hash: md5
      md5: e6ca799457cd97cb933d03a6307c095b.dir
      size: 29007176
      nfiles: 3
  train@Lag-PytorchNeuralNetworkRegressor:
    cmd: python ../Scripts/Model_Train/PytorchNeuralNetworkRegressor.py --input ../Data/Processed/./Lag_train.parquet
      --output ../Models/./Lag/PytorchNeuralNetworkRegressor
    deps:
    - path: ../Data/Processed/./Lag_train.parquet
      hash: md5
      md5: da5b7a475590ee39252f8656bbe9656c
      size: 785560398
    - path: ../Scripts/Model_Train/PytorchNeuralNetworkRegressor.py
      hash: md5
      md5: c35a59bbd7a41007c2b44e76257cf194
      size: 1842
    params:
      params.yaml:
        parameters.models.PytorchNeuralNetworkRegressor:
          dimension: 16
          learning_rate: 0.03
          dropout_rate: 0.1
          loss_function_name: MSELoss
          optimizer_name: SGD
          max_epochs: 500
          seed: 363
          callback_period: 5
    outs:
    - path: ../Models/./Lag/PytorchNeuralNetworkRegressor
      hash: md5
      md5: 0a0f85e5409c12d6298588a6e9ceda05.dir
      size: 29022991
      nfiles: 4
  test@Lag-LinearRegressor:
    cmd: python ../Scripts/Model_Test/LinearRegressor.py --model ../Models/./Lag/LinearRegressor
      --input ../Data/Processed/./Lag_test.parquet --output ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
    deps:
    - path: ../Data/Processed/./Lag_test.parquet
      hash: md5
      md5: 49a14cfdaa7e90275f8e4dd4e66f13bc
      size: 787943170
    - path: ../Models/./Lag/LinearRegressor
      hash: md5
      md5: e6ca799457cd97cb933d03a6307c095b.dir
      size: 29007176
      nfiles: 3
    - path: ../Scripts/Model_Test/LinearRegressor.py
      hash: md5
      md5: 2d8403ea55cac82a08ad82c1a2ce720c
      size: 1179
    outs:
    - path: ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
      hash: md5
      md5: 014586f20a19eeaf4a11247a6bba644c
      size: 13151831
  test@Lag-PytorchNeuralNetworkRegressor:
    cmd: python ../Scripts/Model_Test/PytorchNeuralNetworkRegressor.py --model ../Models/./Lag/PytorchNeuralNetworkRegressor
      --input ../Data/Processed/./Lag_test.parquet --output ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
    deps:
    - path: ../Data/Processed/./Lag_test.parquet
      hash: md5
      md5: 49a14cfdaa7e90275f8e4dd4e66f13bc
      size: 787943170
    - path: ../Models/./Lag/PytorchNeuralNetworkRegressor
      hash: md5
      md5: 0a0f85e5409c12d6298588a6e9ceda05.dir
      size: 29022991
      nfiles: 4
    - path: ../Scripts/Model_Test/PytorchNeuralNetworkRegressor.py
      hash: md5
      md5: 6b45f5f45bdd987fb912255bf4ef9745
      size: 1221
    outs:
    - path: ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: 97806368c275ad446285151ae982d098
      size: 9496285
  metrics@Lag-LinearRegressor-Scatter:
    cmd: python ../Scripts/Metrics/Scatter.py --input ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
      --output ../Figures/./Lag/LinearRegressor/Scatter
    deps:
    - path: ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
      hash: md5
      md5: 014586f20a19eeaf4a11247a6bba644c
      size: 13151831
    - path: ../Scripts/Metrics/Scatter.py
      hash: md5
      md5: e5a619dddfe635e37853649dfdc04de3
      size: 1794
    params:
      params.yaml:
        parameters.metrics.Scatter:
          figsize: 8
          alpha: 0.1
          point_size: 5
    outs:
    - path: ../Figures/./Lag/LinearRegressor/Scatter
      hash: md5
      md5: 81276064b0638bcb9ae1c27694072fe0.dir
      size: 221018
      nfiles: 1
  metrics@Lag-PytorchNeuralNetworkRegressor-Scatter:
    cmd: python ../Scripts/Metrics/Scatter.py --input ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
      --output ../Figures/./Lag/PytorchNeuralNetworkRegressor/Scatter
    deps:
    - path: ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: 97806368c275ad446285151ae982d098
      size: 9496285
    - path: ../Scripts/Metrics/Scatter.py
      hash: md5
      md5: e5a619dddfe635e37853649dfdc04de3
      size: 1794
    params:
      params.yaml:
        parameters.metrics.Scatter:
          figsize: 8
          alpha: 0.1
          point_size: 5
    outs:
    - path: ../Figures/./Lag/PytorchNeuralNetworkRegressor/Scatter
      hash: md5
      md5: 19bf7b5b012aa3051438c1be8cfe45af.dir
      size: 205541
      nfiles: 1
  metrics@Lag-LinearRegressor-Weighted_R:
    cmd: python ../Scripts/Metrics/Weighted_R.py --input ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
      --output ../Figures/./Lag/LinearRegressor/Weighted_R
    deps:
    - path: ../Data/Processed/Predictions/./Lag/LinearRegressor.parquet
      hash: md5
      md5: 014586f20a19eeaf4a11247a6bba644c
      size: 13151831
    - path: ../Scripts/Metrics/Weighted_R.py
      hash: md5
      md5: 64bf084f276aa354f20d0ee2ef05e6cc
      size: 1483
    params:
      params.yaml:
        parameters.metrics.Weighted_R: {}
    outs:
    - path: ../Figures/./Lag/LinearRegressor/Weighted_R
      hash: md5
      md5: c57d8d4188cab58ef28a6595679a8ced.dir
      size: 63
      nfiles: 1
  metrics@Lag-PytorchNeuralNetworkRegressor-Weighted_R:
    cmd: python ../Scripts/Metrics/Weighted_R.py --input ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
      --output ../Figures/./Lag/PytorchNeuralNetworkRegressor/Weighted_R
    deps:
    - path: ../Data/Processed/Predictions/./Lag/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: 97806368c275ad446285151ae982d098
      size: 9496285
    - path: ../Scripts/Metrics/Weighted_R.py
      hash: md5
      md5: 64bf084f276aa354f20d0ee2ef05e6cc
      size: 1483
    params:
      params.yaml:
        parameters.metrics.Weighted_R: {}
    outs:
    - path: ../Figures/./Lag/PytorchNeuralNetworkRegressor/Weighted_R
      hash: md5
      md5: ec2cc353c28c0186be1d1216f37fd53d.dir
      size: 48
      nfiles: 1
  metrics@Regressionalize-LinearRegressor-Weighted_R:
    cmd: python ../Scripts/Metrics/Weighted_R.py --input ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
      --output ../Figures/./Regressionalize/LinearRegressor/Weighted_R
    deps:
    - path: ../Data/Processed/Predictions/./Regressionalize/LinearRegressor.parquet
      hash: md5
      md5: b533594ab0e08ddaeeb4dd60bddad915
      size: 283682837
    - path: ../Scripts/Metrics/Weighted_R.py
      hash: md5
      md5: 64bf084f276aa354f20d0ee2ef05e6cc
      size: 1483
    params:
      params.yaml:
        parameters.metrics.Weighted_R: {}
    outs:
    - path: ../Figures/./Regressionalize/LinearRegressor/Weighted_R
      hash: md5
      md5: bb2df8a39582896a56604e6be485f24c.dir
      size: 52
      nfiles: 1
  metrics@Regressionalize-PytorchNeuralNetworkRegressor-Weighted_R:
    cmd: python ../Scripts/Metrics/Weighted_R.py --input 
      ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
      --output ../Figures/./Regressionalize/PytorchNeuralNetworkRegressor/Weighted_R
    deps:
    - path: 
        ../Data/Processed/Predictions/./Regressionalize/PytorchNeuralNetworkRegressor.parquet
      hash: md5
      md5: c782ec420088bbeed5389f5a80b84da8
      size: 283678455
    - path: ../Scripts/Metrics/Weighted_R.py
      hash: md5
      md5: 64bf084f276aa354f20d0ee2ef05e6cc
      size: 1483
    params:
      params.yaml:
        parameters.metrics.Weighted_R: {}
    outs:
    - path: ../Figures/./Regressionalize/PytorchNeuralNetworkRegressor/Weighted_R
      hash: md5
      md5: 5adee9afa697492c16fbf707f3a76125.dir
      size: 52
      nfiles: 1
  preprocess_dataframe@Regressionalize-train:
    cmd: python ../Scripts/Processors/Regressionalize.py --input ../Data/Raw/ --fold
      train --output ../Data/Processed/./Regressionalize_train.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Regressionalize.py
      hash: md5
      md5: 58a61d39fa63ece2b50df88b75896b99
      size: 2541
    params:
      params.yaml:
        parameters.processors.Regressionalize: {}
        parameters.processors.global.label_column: responder_6
        parameters.processors.global.train_partition_ids:
        - 3
    outs:
    - path: ../Data/Processed/./Regressionalize_train.parquet
      hash: md5
      md5: 8cc1c4f39083d00a9802d71b171cf9cc
      size: 1330376725
  preprocess_dataframe@Regressionalize-test:
    cmd: python ../Scripts/Processors/Regressionalize.py --input ../Data/Raw/ --fold
      test --output ../Data/Processed/./Regressionalize_test.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Regressionalize.py
      hash: md5
      md5: 58a61d39fa63ece2b50df88b75896b99
      size: 2541
    params:
      params.yaml:
        parameters.processors.Regressionalize: {}
        parameters.processors.global.label_column: responder_6
        parameters.processors.global.test_partition_ids:
        - 8
    outs:
    - path: ../Data/Processed/./Regressionalize_test.parquet
      hash: md5
      md5: c9061f870c9feff1dacb37194225971e
      size: 2035895356
  preprocess_dataframe@Lag-train:
    cmd: python ../Scripts/Processors/Lag.py --input ../Data/Raw/ --fold train --output
      ../Data/Processed/./Lag_train.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Lag.py
      hash: md5
      md5: 80ad79a965a9d432b3dcc6aa612e4df3
      size: 3072
    params:
      params.yaml:
        parameters.processors.Lag: {}
        parameters.processors.global.label_column: responder_6
        parameters.processors.global.train_partition_ids:
        - 3
    outs:
    - path: ../Data/Processed/./Lag_train.parquet
      hash: md5
      md5: da5b7a475590ee39252f8656bbe9656c
      size: 785560398
  preprocess_dataframe@Lag-test:
    cmd: python ../Scripts/Processors/Lag.py --input ../Data/Raw/ --fold test --output
      ../Data/Processed/./Lag_test.parquet
    deps:
    - path: ../Data/Raw/
      hash: md5
      md5: 97fe5554c3c4771ea5118c1824dd143b.dir
      size: 12299793517
      nfiles: 26
    - path: ../Scripts/Processors/Lag.py
      hash: md5
      md5: 80ad79a965a9d432b3dcc6aa612e4df3
      size: 3072
    params:
      params.yaml:
        parameters.processors.Lag: {}
        parameters.processors.global.label_column: responder_6
        parameters.processors.global.test_partition_ids:
        - 8
    outs:
    - path: ../Data/Processed/./Lag_test.parquet
      hash: md5
      md5: 49a14cfdaa7e90275f8e4dd4e66f13bc
      size: 787943170
